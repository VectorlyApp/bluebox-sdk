{
  "property_name": "Elements",
  "className": "Object",
  "description": "Object",
  "objectId": "-8799355714042909497.1.1248",
  "resolved_data": {
    "ElementsPanel": {
      "type": "function",
      "writable": true,
      "configurable": true,
      "enumerable": true,
      "description": "class co extends i.Panel.Panel{splitWidget;#_t;mainContainer;domTreeContainer;splitMode;accessibilityTreeView;breadcrumbs;stylesWidget;computedStyleWidget;metricsWidget;searchResults;currentSearchResultIndex;pendingNodeReveal;adornerManager;adornersByName;accessibilityTreeButton;domTreeButton;selectedNodeOnReset;hasNonDefaultSelectedNode;searchConfig;omitDefaultSelection;notFirstInspectElement;sidebarPaneView;stylesViewToReveal;nodeInsertedTaskRunner={queue:Promise.resolve(),run(e){this.queue=this.queue.then(e)}};cssStyleTrackerByCSSModel;#Vt;getTreeOutlineForTesting(){return this.#Vt.getTreeOutlineForTesting()}constructor(){super(\"elements\"),this.registerRequiredCSS(_i),this.splitWidget=new i.SplitWidget.SplitWidget(!0,!0,\"elements-panel-split-view-state\",325,325),this.splitWidget.addEventListener(\"SidebarSizeChanged\",this.updateTreeOutlineVisibleWidth.bind(this)),this.splitWidget.show(this.element),this.#_t=new i.SearchableView.SearchableView(this,null),this.#_t.setMinimalSearchQuerySize(0),this.#_t.setMinimumSize(25,28),this.#_t.setPlaceholder(ro(so.findByStringSelectorOrXpath));const s=this.#_t.element;this.mainContainer=document.createElement(\"div\"),this.domTreeContainer=document.createElement(\"div\");const o=document.createElement(\"div\");t.Runtime.experiments.isEnabled(\"full-accessibility-tree\")&&this.initializeFullAccessibilityTreeView(),this.mainContainer.appendChild(this.domTreeContainer),s.appendChild(this.mainContainer),s.appendChild(o),i.ARIAUtils.markAsMain(this.domTreeContainer),i.ARIAUtils.setLabel(this.domTreeContainer,ro(so.domTreeExplorer)),this.splitWidget.setMainWidget(this.#_t),this.splitMode=null,this.mainContainer.id=\"main-content\",this.domTreeContainer.id=\"elements-content\",this.domTreeContainer.tabIndex=-1,e.Settings.Settings.instance().moduleSetting(\"dom-word-wrap\").get()&&this.domTreeContainer.classList.add(\"elements-wrap\"),e.Settings.Settings.instance().moduleSetting(\"dom-word-wrap\").addChangeListener(this.domWordWrapSettingChanged.bind(this)),o.id=\"elements-crumbs\",this.domTreeButton&&(this.accessibilityTreeView=new X(this.domTreeButton,new h.TreeOutline.TreeOutline)),this.breadcrumbs=new p.ElementsBreadcrumbs.ElementsBreadcrumbs,this.breadcrumbs.addEventListener(\"breadcrumbsnodeselected\",e=>{this.crumbNodeSelected(e)}),o.appendChild(this.breadcrumbs);const r=new Fi;this.stylesWidget=new ei(r),this.computedStyleWidget=new Li(r),this.metricsWidget=new no(r),e.Settings.Settings.instance().moduleSetting(\"sidebar-position\").addChangeListener(this.updateSidebarPosition.bind(this)),this.updateSidebarPosition(),this.cssStyleTrackerByCSSModel=new Map,this.currentSearchResultIndex=-1,this.pendingNodeReveal=!1,this.adornerManager=new p.AdornerManager.AdornerManager(e.Settings.Settings.instance().moduleSetting(\"adorner-settings\")),this.adornersByName=new Map,this.#Vt=new Fs,this.#Vt.omitRootDOMNode=!0,this.#Vt.selectEnabled=!0,this.#Vt.onSelectedNodeChanged=this.selectedNodeChanged.bind(this),this.#Vt.onElementsTreeUpdated=this.updateBreadcrumbIfNeeded.bind(this),this.#Vt.onDocumentUpdated=this.documentUpdated.bind(this),this.#Vt.setWordWrap(e.Settings.Settings.instance().moduleSetting(\"dom-word-wrap\").get()),n.TargetManager.TargetManager.instance().observeModels(n.DOMModel.DOMModel,this,{scoped:!0}),n.TargetManager.TargetManager.instance().addEventListener(\"NameChanged\",e=>this.targetNameChanged(e.data)),e.Settings.Settings.instance().moduleSetting(\"show-ua-shadow-dom\").addChangeListener(this.showUAShadowDOMChanged.bind(this)),d.ExtensionServer.ExtensionServer.instance().addEventListener(\"SidebarPaneAdded\",this.extensionSidebarPaneAdded,this)}initializeFullAccessibilityTreeView(){this.accessibilityTreeButton=ao(!1),this.accessibilityTreeButton.addEventListener(\"click\",this.showAccessibilityTree.bind(this)),this.domTreeButton=ao(!0),this.domTreeButton.addEventListener(\"click\",this.showDOMTree.bind(this)),this.mainContainer.appendChild(this.accessibilityTreeButton)}showAccessibilityTree(){this.accessibilityTreeView&&this.splitWidget.setMainWidget(this.accessibilityTreeView)}showDOMTree(){this.splitWidget.setMainWidget(this.#_t);const e=this.selectedDOMNode();e&&this.#Vt.selectDOMNodeWithoutReveal(e)}toggleAccessibilityTree(){this.domTreeButton&&(this.splitWidget.mainWidget()===this.accessibilityTreeView?this.showDOMTree():this.showAccessibilityTree())}static instance(e={forceNew:null}){const{forceNew:t}=e;return lo&&!t||(lo=new co),lo}revealProperty(e){return this.sidebarPaneView&&this.stylesViewToReveal?this.sidebarPaneView.showView(this.stylesViewToReveal).then(()=>{this.stylesWidget.revealProperty(e)}):Promise.resolve()}resolveLocation(e){return this.sidebarPaneView||null}showToolbarPane(e,t){this.stylesWidget.showToolbarPane(e,t)}modelAdded(e){this.setupStyleTracking(e.cssModel()),this.#Vt.modelAdded(e),this.isShowing()&&this.wasShown(),this.domTreeContainer.hasFocus()&&this.#Vt.focus(),e.addEventListener(n.DOMModel.Events.DocumentUpdated,this.documentUpdatedEvent,this),e.addEventListener(n.DOMModel.Events.NodeInserted,this.handleNodeInserted,this)}modelRemoved(e){e.removeEventListener(n.DOMModel.Events.DocumentUpdated,this.documentUpdatedEvent,this),e.removeEventListener(n.DOMModel.Events.NodeInserted,this.handleNodeInserted,this),this.#Vt.modelRemoved(e),e.parentModel()||this.#Vt.detach(),this.removeStyleTracking(e.cssModel())}handleNodeInserted(e){this.nodeInsertedTaskRunner.run(async()=>{const t=e.data;if(!t.isViewTransitionPseudoNode())return;const n=t.domModel().cssModel(),i=await n.requestViaInspectorStylesheet(t.frameId());if(!i)return;const s=await n.getStyleSheetText(i.id);s?.includes(`${t.simpleSelector()} {`)||await n.setStyleSheetText(i.id,`${s}\\n${t.simpleSelector()} {}`,!1)})}targetNameChanged(e){e.model(n.DOMModel.DOMModel)}updateTreeOutlineVisibleWidth(){let e=this.splitWidget.element.offsetWidth;this.splitWidget.isVertical()&&(e-=this.splitWidget.sidebarSize()),this.#Vt.visibleWidth=e}focus(){this.#Vt.empty()?this.domTreeContainer.focus():this.#Vt.focus()}searchableView(){return this.#_t}wasShown(){super.wasShown(),i.Context.Context.instance().setFlavor(co,this),this.#Vt.show(this.domTreeContainer)}willHide(){n.OverlayModel.OverlayModel.hideDOMNodeHighlight(),this.#Vt.detach(),super.willHide(),i.Context.Context.instance().setFlavor(co,null)}onResize(){this.element.window().requestAnimationFrame(this.updateSidebarPosition.bind(this)),this.updateTreeOutlineVisibleWidth()}selectedNodeChanged(e){let t=e.data.node;t?.pseudoType()&&!t.parentNode&&(t=null);const{focus:s}=e.data;if(t||this.#Vt.selectDOMNode(null),t){const e=[p.Helper.legacyNodeToElementsComponentsNode(t)];for(let n=t.parentNode;n;n=n.parentNode)e.push(p.Helper.legacyNodeToElementsComponentsNode(n));this.breadcrumbs.data={crumbs:e,selectedNode:p.Helper.legacyNodeToElementsComponentsNode(t)},this.accessibilityTreeView&&this.accessibilityTreeView.selectedNodeChanged(t)}else this.breadcrumbs.data={crumbs:[],selectedNode:null};if(i.Context.Context.instance().setFlavor(n.DOMModel.DOMNode,t),!t)return;t.setAsInspectedNode(),s&&(this.selectedNodeOnReset=t,this.hasNonDefaultSelectedNode=!0);const o=t.domModel().runtimeModel().executionContexts(),r=t.frameId();for(const e of o)if(e.frameId===r){i.Context.Context.instance().setFlavor(n.RuntimeModel.ExecutionContext,e);break}}documentUpdatedEvent(e){const t=e.data;this.documentUpdated(t),this.removeStyleTracking(t.cssModel()),this.setupStyleTracking(t.cssModel())}documentUpdated(e){if(this.#_t.cancelSearch(),!e.existingDocument())return void(this.isShowing()&&e.requestDocument());if(this.hasNonDefaultSelectedNode=!1,this.omitDefaultSelection)return;const t=this.selectedNodeOnReset;(async function(e,n){const i=n?n.path():null,s=i?await e.pushNodeByPathToFrontend(i):null;if(t!==this.selectedNodeOnReset)return;let o=e.nodeForId(s);if(!o){const t=e.existingDocument();o=t?t.body||t.documentElement:null}o&&(this.setDefaultSelectedNode(o),this.lastSelectedNodeSelectedForTest())}).call(this,e,this.selectedNodeOnReset||null)}lastSelectedNodeSelectedForTest(){}setDefaultSelectedNode(e){!e||this.hasNonDefaultSelectedNode||this.pendingNodeReveal||(this.selectDOMNode(e),this.#Vt.expand())}onSearchClosed(){const e=this.selectedDOMNode();e&&this.#Vt.selectDOMNodeWithoutReveal(e)}onSearchCanceled(){this.searchConfig=void 0,this.hideSearchHighlights(),this.#_t.updateSearchMatchesCount(0),this.currentSearchResultIndex=-1,delete this.searchResults,n.DOMModel.DOMModel.cancelSearch()}performSearch(t,i,s){const o=t.query,r=o.trim();if(!r.length)return;this.searchConfig&&this.searchConfig.query===o?this.hideSearchHighlights():this.onSearchCanceled(),this.searchConfig=t;const a=e.Settings.Settings.instance().moduleSetting(\"show-ua-shadow-dom\").get(),l=n.TargetManager.TargetManager.instance().models(n.DOMModel.DOMModel,{scoped:!0}),d=l.map(e=>e.performSearch(r,a));Promise.all(d).then(e=>{this.searchResults=[];for(let t=0;t<e.length;++t){const n=e[t];for(let e=0;e<n;++e)this.searchResults.push({domModel:l[t],index:e,node:void 0})}if(this.#_t.updateSearchMatchesCount(this.searchResults.length),!this.searchResults.length)return;this.currentSearchResultIndex>=this.searchResults.length&&(this.currentSearchResultIndex=-1);let t=this.currentSearchResultIndex;i&&(t=-1===this.currentSearchResultIndex?s?-1:0:s?t-1:t+1,this.jumpToSearchResult(t))})}domWordWrapSettingChanged(e){this.domTreeContainer.classList.toggle(\"elements-wrap\",e.data),this.#Vt.setWordWrap(e.data)}jumpToSearchResult(e){this.searchResults&&(this.currentSearchResultIndex=(e+this.searchResults.length)%this.searchResults.length,this.highlightCurrentSearchResult())}jumpToNextSearchResult(){this.searchResults&&this.searchConfig&&this.performSearch(this.searchConfig,!0)}jumpToPreviousSearchResult(){this.searchResults&&this.searchConfig&&this.performSearch(this.searchConfig,!0,!0)}supportsCaseSensitiveSearch(){return!1}supportsWholeWordSearch(){return!1}supportsRegexSearch(){return!1}highlightCurrentSearchResult(){const e=this.currentSearchResultIndex,t=this.searchResults;if(!t)return;const n=t[e];this.#_t.updateCurrentMatchIndex(e),null!==n.node&&(void 0!==n.node?(n.node.scrollIntoView(),n.node&&this.#Vt.highlightMatch(n.node,this.searchConfig?.query)):n.domModel.searchResult(n.index).then(e=>{n.node=e;this.searchConfig&&this.searchResults&&-1!==this.currentSearchResultIndex&&this.highlightCurrentSearchResult()}))}hideSearchHighlights(){if(!this.searchResults?.length||-1===this.currentSearchResultIndex)return;const e=this.searchResults[this.currentSearchResultIndex];e.node&&this.#Vt.hideMatchHighlights(e.node)}selectedDOMNode(){return this.#Vt.selectedDOMNode()}selectDOMNode(e,t){this.#Vt.selectDOMNode(e,t)}highlightNodeAttribute(e,t){this.#Vt.highlightNodeAttribute(e,t)}selectAndShowSidebarTab(e){this.sidebarPaneView&&(this.sidebarPaneView.tabbedPane().selectTab(e),this.isShowing()||i.ViewManager.ViewManager.instance().showView(\"elements\"))}updateBreadcrumbIfNeeded(e){const t=e.data,n=this.selectedDOMNode();if(!n)return void(this.breadcrumbs.data={crumbs:[],selectedNode:null});const i=p.Helper.legacyNodeToElementsComponentsNode(n),s=[i];for(let e=n.parentNode;e;e=e.parentNode)s.push(p.Helper.legacyNodeToElementsComponentsNode(e));const o=t.map(p.Helper.legacyNodeToElementsComponentsNode),r=new Map;o.forEach(e=>r.set(e.id,e));const a=s.map(e=>r.get(e.id)||e);this.breadcrumbs.data={crumbs:a,selectedNode:i}}crumbNodeSelected(e){this.selectDOMNode(e.legacyDomNode,!0)}leaveUserAgentShadowDOM(e){let t;for(;(t=e.ancestorUserAgentShadowRoot())&&t.parentNode;)e=t.parentNode;return e}async revealAndSelectNode(t,n){const{showPanel:s=!0,focusNode:r=!1,highlightInOverlay:a=!0}=n??{};this.omitDefaultSelection=!0;const l=e.Settings.Settings.instance().moduleSetting(\"show-ua-shadow-dom\").get()?t:this.leaveUserAgentShadowDOM(t);a&&l.highlightForTwoSeconds(),this.accessibilityTreeView&&this.accessibilityTreeView.revealAndSelectNode(t),s&&await i.ViewManager.ViewManager.instance().showView(\"elements\",!1,!focus),this.selectDOMNode(l,r),delete this.omitDefaultSelection,this.notFirstInspectElement||(co.firstInspectElementNodeNameForTest=l.nodeName(),co.firstInspectElementCompletedForTest(),o.InspectorFrontendHost.InspectorFrontendHostInstance.inspectElementCompleted()),this.notFirstInspectElement=!0}showUAShadowDOMChanged(){this.#Vt.reload()}setupTextSelectionHack(e){const t=i.bind(this),n=e=>{0===e.buttons&&i.call(this)};function i(){this.splitWidget.element.classList.remove(\"disable-resizer-for-elements-hack\"),e.style.removeProperty(\"left\"),e.style.removeProperty(\"padding-left\"),e.style.removeProperty(\"width\"),e.style.removeProperty(\"position\"),e.window().removeEventListener(\"blur\",t),e.window().removeEventListener(\"contextmenu\",t,!0),e.window().removeEventListener(\"dragstart\",t,!0),e.window().removeEventListener(\"mousemove\",n,!0),e.window().removeEventListener(\"mouseup\",t,!0),e.window().removeEventListener(\"visibilitychange\",t)}e.addEventListener(\"mousedown\",i=>{if(0!==i.button)return;this.splitWidget.element.classList.add(\"disable-resizer-for-elements-hack\"),e.style.setProperty(\"height\",`${e.offsetHeight}px`);e.style.setProperty(\"left\",\"-1000000px\"),e.style.setProperty(\"padding-left\",\"1000000px\"),e.style.setProperty(\"width\",\"calc(100% + 1000000px)\"),e.style.setProperty(\"position\",\"fixed\"),e.window().addEventListener(\"blur\",t),e.window().addEventListener(\"contextmenu\",t,!0),e.window().addEventListener(\"dragstart\",t,!0),e.window().addEventListener(\"mousemove\",n,!0),e.window().addEventListener(\"mouseup\",t,!0),e.window().addEventListener(\"visibilitychange\",t)},!0)}initializeSidebarPanes(e){this.splitWidget.setVertical(\"Vertical\"===e),this.showToolbarPane(null,null);const t=new i.Widget.VBox;t.element.classList.add(\"style-panes-wrapper\"),t.element.setAttribute(\"jslog\",`${s.pane(\"styles\").track({resize:!0})}`),this.stylesWidget.show(t.element),this.setupTextSelectionHack(t.element);const n=new i.Widget.VBox;n.element.classList.add(\"style-panes-wrapper\"),n.element.setAttribute(\"jslog\",`${s.pane(\"computed\").track({resize:!0})}`),this.computedStyleWidget.show(n.element);const o=new i.SplitWidget.SplitWidget(!0,!0,\"elements.styles.sidebar.width\",100);o.setMainWidget(t),o.hideSidebar(),o.enableShowModeSaving(),o.addEventListener(\"ShowModeChanged\",()=>{a()}),this.stylesWidget.addEventListener(\"InitialUpdateCompleted\",()=>{this.stylesWidget.appendToolbarItem(o.createShowHideSidebarButton(ro(so.showComputedStylesSidebar),ro(so.hideComputedStylesSidebar),ro(so.computedStylesShown),ro(so.computedStylesHidden),\"computed-styles\"))});const r=()=>{this.metricsWidget.show(n.element,this.computedStyleWidget.element),this.metricsWidget.toggleVisibility(!0),this.stylesWidget.removeEventListener(\"StylesUpdateCompleted\",l)},a=()=>{\"Both\"===o.showMode()?r():(this.metricsWidget.show(t.element),this.stylesWidget.hasMatchedStyles||this.metricsWidget.toggleVisibility(!1),this.stylesWidget.addEventListener(\"StylesUpdateCompleted\",l))},l=e=>{this.metricsWidget.toggleVisibility(e.data.hasMatchedStyles)};this.sidebarPaneView=i.ViewManager.ViewManager.instance().createTabbedLocation(()=>i.ViewManager.ViewManager.instance().showView(\"elements\"),\"styles-pane-sidebar\",!0,!0);const c=this.sidebarPaneView.tabbedPane();c.headerElement().setAttribute(\"jslog\",`${s.toolbar(\"sidebar\").track({keydown:\"ArrowUp|ArrowLeft|ArrowDown|ArrowRight|Enter|Space\"})}`),\"Vertical\"!==this.splitMode&&this.splitWidget.installResizer(c.headerElement());const h=c.headerElement();i.ARIAUtils.markAsNavigation(h),i.ARIAUtils.setLabel(h,ro(so.sidePanelToolbar));const p=c.tabbedPaneContentElement();i.ARIAUtils.markAsComplementary(p),i.ARIAUtils.setLabel(p,ro(so.sidePanelContent));const u=new i.View.SimpleView({title:ro(so.styles),viewId:\"styles\"});this.sidebarPaneView.appendView(u),u.element.classList.add(\"flex-auto\"),o.show(u.element);const m=new i.View.SimpleView({title:ro(so.computed),viewId:\"computed\"});m.element.classList.add(\"composite\",\"fill\"),c.addEventListener(i.TabbedPane.Events.TabSelected,e=>{const{tabId:t}=e.data;\"computed\"===t?(n.show(m.element),r()):\"styles\"===t&&(o.setSidebarWidget(n),a())},this),this.sidebarPaneView.appendView(m),this.stylesViewToReveal=u,this.sidebarPaneView.appendApplicableItems(\"elements-sidebar\");const g=d.ExtensionServer.ExtensionServer.instance().sidebarPanes();for(let e=0;e<g.length;++e)this.addExtensionSidebarPane(g[e]);this.splitWidget.setSidebarWidget(this.sidebarPaneView.tabbedPane())}updateSidebarPosition(){if(this.sidebarPaneView?.tabbedPane().shouldHideOnDetach())return;const t=e.Settings.Settings.instance().moduleSetting(\"sidebar-position\").get();let n=\"Horizontal\";if((\"right\"===t||\"auto\"===t&&this.splitWidget.element.offsetWidth>680)&&(n=\"Vertical\"),!this.sidebarPaneView)return void this.initializeSidebarPanes(n);if(n===this.splitMode)return;this.splitMode=n;const i=this.sidebarPaneView.tabbedPane();this.splitWidget.uninstallResizer(i.headerElement()),this.splitWidget.setVertical(\"Vertical\"===this.splitMode),this.showToolbarPane(null,null),\"Vertical\"!==this.splitMode&&this.splitWidget.installResizer(i.headerElement())}extensionSidebarPaneAdded(e){this.addExtensionSidebarPane(e.data)}addExtensionSidebarPane(e){this.sidebarPaneView&&e.panelName()===this.name&&this.sidebarPaneView.appendView(e)}getComputedStyleWidget(){return this.computedStyleWidget}setupStyleTracking(e){const t=e.createCSSPropertyTracker(ho);t.start(),this.cssStyleTrackerByCSSModel.set(e,t),t.addEventListener(\"TrackedCSSPropertiesUpdated\",this.trackedCSSPropertiesUpdated,this)}removeStyleTracking(e){const t=this.cssStyleTrackerByCSSModel.get(e);t&&(t.stop(),this.cssStyleTrackerByCSSModel.delete(e),t.removeEventListener(\"TrackedCSSPropertiesUpdated\",this.trackedCSSPropertiesUpdated,this))}trackedCSSPropertiesUpdated({data:e}){for(const t of e)t&&this.#Vt.updateNodeAdorners(t);Zs.instance().requestUpdate()}populateAdornerSettingsContextMenu(e){const t=e.viewSection().appendSubMenuItem(ro(so.adornerSettings),!1,\"show-adorner-settings\"),n=this.adornerManager.getSettings();for(const[e,i]of n)t.defaultSection().appendCheckboxItem(e,()=>{const t=!i,s=this.adornersByName.get(e);if(s)for(const e of s)t?e.show():e.hide();this.adornerManager.getSettings().set(e,t),this.adornerManager.updateSettings(n)},{checked:i,jslogContext:e})}isAdornerEnabled(e){return this.adornerManager.isAdornerEnabled(e)}registerAdorner(e){let t=this.adornersByName.get(e.name);t||(t=new Set,this.adornersByName.set(e.name,t)),t.add(e),this.isAdornerEnabled(e.name)||e.hide()}deregisterAdorner(e){const t=this.adornersByName.get(e.name);t&&t.delete(e)}toggleHideElement(e){this.#Vt.toggleHideElement(e)}toggleEditAsHTML(e){this.#Vt.toggleEditAsHTML(e)}duplicateNode(e){this.#Vt.duplicateNode(e)}copyStyles(e){this.#Vt.copyStyles(e)}static firstInspectElementCompletedForTest=function(){};static firstInspectElementNodeNameForTest=\"\"}"
    },
    "_internalProperties": [
      {
        "name": "[[Prototype]]",
        "objectId": "-8799355714042909497.1.2881",
        "className": "Object"
      }
    ]
  }
}